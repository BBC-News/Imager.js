<!doctype html>
<html dir="ltr" lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Imager.js</title>
        <link rel="stylesheet" href="Assets/Styles/base.css">
    </head>
    <body>
        <h1>Imager.js</h1>
        <p>Here we're using Grunt to generate a list of image sizes for us.</p>
        <p>We then pass those sizes into Imager</p>

        <div class="delayed-image-load" data-src="Assets/Images/Generated/A-320.jpg" data-width="1024"></div>
        <div class="delayed-image-load" data-src="Assets/Images/Generated/B-320.jpg" data-width="1024"></div>
        <div class="delayed-image-load" data-src="Assets/Images/Generated/C-320.jpg" data-width="1024"></div>

        <script src="../Imager.js"></script>
        <script>
            var imager = new Imager({
                availableWidths: [320, 640, 1024],

                /*
                    This regex captures 3 pieces of information:

                    1. the path to the image -> Assets/Images/Generated/
                       ^(Assets\/Images\/Generated\/)

                    2. the start of the file name -> A-, B-, C-
                       (\w-)

                    3. the file extension -> .jpg
                       (\.(?:jpg|png|gif))$

                    The only other part of the regex isn't captured and that is the number specified in the file name.

                    One other thing to note is the use of the non-capturing group -> (?: )
                    This means we can use parenthesis as a way to 'group' a part of the regex without needing to capture it
                 */
                regex: /^(Assets\/Images\/Generated\/)(\w-)\d+(\.(?:jpg|png|gif))$/i
            });
        </script>
    </body>
</html>